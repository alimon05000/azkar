<!DOCTYPE html>
<html lang="ru" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0A5C36">
    <title>Исламские напоминания</title>
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    <style>
        :root {
            --primary: #0A5C36;
            --secondary: #F0E6D2;
            --accent: #C19A6B;
            --text: #2C2C2C;
            --light: #FFFFFF;
            --dark: #1A1A1A;
            --card-bg: #FFFFFF;
            --header-bg: #0A5C36;
            --pattern-opacity: 0.05;
        }
        
        [data-theme="dark"] {
            --primary: #2E7D32;
            --secondary: #121212;
            --accent: #FFD54F;
            --text: #E0E0E0;
            --light: #1E1E1E;
            --dark: #121212;
            --card-bg: #1E1E1E;
            --header-bg: #1A1A1A;
            --pattern-opacity: 0.1;
        }
        
        [data-theme="gold"] {
            --primary: #8C6A3D;
            --secondary: #F5F0E6;
            --accent: #D4AF37;
            --text: #3E3E3E;
            --light: #FFFFFF;
            --dark: #8C6A3D;
            --card-bg: #FFFFFF;
            --header-bg: #8C6A3D;
            --pattern-opacity: 0.08;
        }
        
        [data-theme="blue"] {
            --primary: #1565C0;
            --secondary: #E3F2FD;
            --accent: #42A5F5;
            --text: #2C2C2C;
            --light: #FFFFFF;
            --dark: #0D47A1;
            --card-bg: #FFFFFF;
            --header-bg: #1565C0;
            --pattern-opacity: 0.06;
        }
        
        [data-theme="purple"] {
            --primary: #6A1B9A;
            --secondary: #F3E5F5;
            --accent: #AB47BC;
            --text: #2C2C2C;
            --light: #FFFFFF;
            --dark: #4A148C;
            --card-bg: #FFFFFF;
            --header-bg: #6A1B9A;
            --pattern-opacity: 0.07;
        }
        
        [data-theme="ocean"] {
            --primary: #00695C;
            --secondary: #E0F2F1;
            --accent: #26A69A;
            --text: #2C2C2C;
            --light: #FFFFFF;
            --dark: #004D40;
            --card-bg: #FFFFFF;
            --header-bg: #00695C;
            --pattern-opacity: 0.06;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'SF Pro Rounded', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background-color: var(--secondary);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
            flex: 1;
        }
        
        header {
            background-color: var(--header-bg);
            color: var(--light);
            padding: 20px;
            text-align: center;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        header::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path fill="rgba(255,255,255,0.1)" d="M0,0 L100,0 L100,100 Q50,80 0,100 Z"></path></svg>');
            background-size: 100% 100%;
            pointer-events: none;
        }
        
        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 5px;
            position: relative;
            z-index: 1;
        }
        
        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .reminder-card {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-left: 5px solid var(--accent);
        }
        
        .reminder-card:active {
            transform: scale(0.98);
        }
        
        .reminder-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .reminder-text {
            font-size: 1rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .arabic-text {
            font-size: 1.4rem;
            text-align: right;
            line-height: 2;
            margin: 10px 0;
            color: var(--primary);
            font-family: 'Traditional Arabic', 'Arial', sans-serif;
        }
        
        .transcription {
            font-style: italic;
            opacity: 0.8;
            margin-bottom: 5px;
        }
        
        .reminder-source {
            font-size: 0.85rem;
            color: var(--accent);
            font-style: italic;
            text-align: left;
        }
        
        .reminder-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 50px;
            border: none;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: var(--light);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-icon {
            margin-right: 8px;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text);
            opacity: 0.7;
        }
        
        .empty-state img {
            width: 100px;
            opacity: 0.5;
            margin-bottom: 20px;
        }
        
        .tab-bar {
            display: flex;
            background-color: var(--card-bg);
            border-radius: 50px;
            padding: 5px;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .tab {
            flex: 1;
            min-width: 100px;
            text-align: center;
            padding: 12px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .tab.active {
            background-color: var(--primary);
            color: var(--light);
        }
        
        .floating-btn {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--primary);
            color: var(--light);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 20px rgba(10, 92, 54, 0.3);
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
        }
        
        .floating-btn:active {
            transform: translateX(-50%) scale(0.95);
        }
        
        .theme-switcher {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: var(--card-bg);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            z-index: 100;
        }
        
        .theme-menu {
            position: fixed;
            top: 70px;
            left: 20px;
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            z-index: 100;
            display: none;
            flex-direction: column;
            gap: 8px;
        }
        
        .theme-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: transform 0.2s ease;
        }
        
        .theme-option:hover {
            transform: scale(1.1);
        }
        
        .theme-option.active {
            border-color: var(--text);
        }
        
        .theme-default {
            background: linear-gradient(135deg, #0A5C36 50%, #F0E6D2 50%);
        }
        
        .theme-dark {
            background: linear-gradient(135deg, #1A1A1A 50%, #2E7D32 50%);
        }
        
        .theme-gold {
            background: linear-gradient(135deg, #8C6A3D 50%, #F5F0E6 50%);
        }
        
        .theme-blue {
            background: linear-gradient(135deg, #1565C0 50%, #E3F2FD 50%);
        }
        
        .theme-purple {
            background: linear-gradient(135deg, #6A1B9A 50%, #F3E5F5 50%);
        }
        
        .theme-ocean {
            background: linear-gradient(135deg, #00695C 50%, #E0F2F1 50%);
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            .reminder-card {
                padding: 15px;
            }
            
            .theme-switcher {
                top: 15px;
                left: 15px;
                width: 35px;
                height: 35px;
            }
            
            .theme-menu {
                top: 60px;
                left: 15px;
            }
        }
        
        /* Анимации */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .reminder-card {
            animation: fadeIn 0.5s ease forwards;
        }
        
        /* Исламские узоры */
        .islamic-pattern {
            position: absolute;
            width: 200px;
            height: 200px;
            opacity: var(--pattern-opacity);
            pointer-events: none;
        }
        
        .pattern-1 {
            top: -50px;
            left: -50px;
            background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
        }
        
        .pattern-2 {
            bottom: -50px;
            right: -50px;
            background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
        }
    </style>
</head>
<body>
    <header>
        <div class="islamic-pattern pattern-1"></div>
        <div class="islamic-pattern pattern-2"></div>
        <h1>Исламские напоминания</h1>
        <p class="subtitle">Защита от наущений шайтана</p>
    </header>
    
    <div class="theme-switcher" id="theme-switcher">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
    </div>
    
    <div class="theme-menu" id="theme-menu">
        <div class="theme-option theme-default active" data-theme="default"></div>
        <div class="theme-option theme-dark" data-theme="dark"></div>
        <div class="theme-option theme-gold" data-theme="gold"></div>
        <div class="theme-option theme-blue" data-theme="blue"></div>
        <div class="theme-option theme-purple" data-theme="purple"></div>
        <div class="theme-option theme-ocean" data-theme="ocean"></div>
    </div>
    
    <div class="container">
        <div class="tab-bar">
            <div class="tab active" data-category="all">Все</div>
            <div class="tab" data-category="morning">Утренние</div>
            <div class="tab" data-category="evening">Вечерние</div>
            <div class="tab" data-category="prayer">После намаза</div>
            <div class="tab" data-category="sleep">Перед сном</div>
            <div class="tab" data-category="daily">На каждый день</div>
        </div>
        
        <div id="reminders-list">
            <!-- Напоминания будут загружены здесь -->
        </div>
        
        <div id="empty-state" class="empty-state" style="display: none;">
            <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%230A5C36'><path d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z'/></svg>" alt="Пусто">
            <h3>Нет напоминаний</h3>
            <p>Добавьте напоминания из достоверной сунны</p>
        </div>
    </div>
    
    <div class="floating-btn" id="add-reminder-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
    </div>
    
    <script>
        // Данные напоминаний (расширенный список)
        const reminders = [
            // Утренние азкары (10)
            {
                id: 1,
                title: "Утренний зикр 1",
                arabic: "أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ الرَّجِيمِ",
                transcription: "А'узу би-Лляхи мин аш-шайтани р-раджим",
                text: "Читать после пробуждения: 'Прибегаю к защите Аллаха от проклятого шайтана'",
                source: "Коран 16:98",
                category: "morning",
                times: ["06:00"]
            },
            {
                id: 2,
                title: "Утренний зикр 2",
                arabic: "اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ النُّشُورُ",
                transcription: "Аллахумма би-кя асбахна, ва би-кя амсайна, ва би-кя нахья, ва би-кя намуту, ва иляйкя-н-нушур",
                text: "Утром: 'О Аллах, с Тобой мы провели этот вечер, и с Тобой встречаем утро, с Тобой мы живём и с Тобой умираем, и к Тебе воскресение!'",
                source: "Ат-Тирмизи 3391",
                category: "morning",
                times: ["06:30"]
            },
            {
                id: 3,
                title: "Утренний зикр 3",
                arabic: "اللَّهُمَّ إِنِّي أَصْبَحْتُ مِنْكَ فِي نِعْمَةٍ وَعَافِيَةٍ وَسِتْرٍ، فَأَتِمَّ نِعْمَتَكَ عَلَيَّ وَعَافِيَتَكَ وَسِتْرَكَ فِي الدُّنْيَا وَالآخِرَةِ",
                transcription: "Аллахумма инни асбахту минка фи ни'матин ва 'афиятин ва ситрин, фа аттимма ни'матака 'аляййа ва 'афиятака ва ситрака фи-д-дунья ва-ль-ахира",
                text: "Утром: 'О Аллах, поистине, я встретил утро благодаря Твоей милости, благополучию и покрову, так доверши же Свою милость, благополучие и покров для меня в этом мире и в мире вечном!'",
                source: "Ибн Ас-Сунни 71",
                category: "morning",
                times: ["07:00"]
            },
            {
                id: 4,
                title: "Утренний зикр 4",
                arabic: "اللَّهُمَّ إِنِّي أَسْأَلُكَ عِلْماً نَافِعاً، وَرِزْقاً طَيِّباً، وَعَمَلاً مُتَقَبَّلاً",
                transcription: "Аллахумма инни ас'алюка 'ильман нафи'ан, ва ризкан таййибан, ва 'амалян мутакаббалян",
                text: "Утром: 'О Аллах, поистине, я прошу у Тебя полезного знания, благого удела и деяний, которые будут приняты!'",
                source: "Ибн Маджа 925",
                category: "morning",
                times: ["07:15"]
            },
            {
                id: 5,
                title: "Утренний зикр 5",
                arabic: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ",
                transcription: "Субхана-Ллахи ва би-хамдихи",
                text: "Утром: 'Слава Аллаху и хвала Ему' (100 раз)",
                source: "Муслим 4/2071",
                category: "morning",
                times: ["07:30"]
            },
            {
                id: 6,
                title: "Утренний зикр 6",
                arabic: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ",
                transcription: "Ля иляха илля-Ллаху вахдаху ля шарика ляху, ляху-ль-мульку ва ляху-ль-хамду ва хува 'аля кулли шайин кадир",
                text: "Утром: 'Нет божества, кроме одного лишь Аллаха, у Которого нет сотоварища. Ему принадлежит владычество, Ему хвала, Он всё может!' (10 раз)",
                source: "Абу Дауд 5077",
                category: "morning",
                times: ["08:00"]
            },
            {
                id: 7,
                title: "Утренний зикр 7",
                arabic: "أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ",
                transcription: "А'узу би-кялимати-Лляхи-т-таммати мин шарри ма халяк",
                text: "Утром: 'Я ищу защиты в совершенных Словах Аллаха от зла того, что Он создал' (3 раза)",
                source: "Муслим 4/2080",
                category: "morning",
                times: ["08:30"]
            },
            {
                id: 8,
                title: "Утренний зикр 8",
                arabic: "بِسْمِ اللَّهِ الَّذِي لَا يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الْأَرْضِ وَلَا فِي السَّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ",
                transcription: "Би-сми-Лляхи-ллязи ля ядурру ма'а-смихи шайун фи-ль-арди ва ля фи-с-самаи ва хува-с-Сами'у-ль-Алим",
                text: "Утром: 'С именем Аллаха, с именем Которого ничто не причинит вреда ни на земле, ни на небе, ведь Он - Слышащий, Знающий!' (3 раза)",
                source: "Абу Дауд 5088",
                category: "morning",
                times: ["09:00"]
            },
            {
                id: 9,
                title: "Утренний зикр 9",
                arabic: "رَضِيتُ بِاللَّهِ رَبّاً، وَبِالْإِسْلَامِ دِيناً، وَبِمُحَمَّدٍ صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمَ نَبِيّاً",
                transcription: "Радыту би-Лляхи Раббан, ва би-ль-ислями динан, ва би-Мухаммадин салла-Ллаху 'аляйхи ва салляма набиййан",
                text: "Утром: 'Я доволен Аллахом как Господом, исламом как религией и Мухаммадом, да благословит его Аллах и приветствует, как пророком' (3 раза)",
                source: "Абу Дауд 5072",
                category: "morning",
                times: ["09:30"]
            },
            {
                id: 10,
                title: "Утренний зикр 10",
                arabic: "يَا حَيُّ يَا قَيُّومُ بِرَحْمَتِكَ أَسْتَغِيثُ أَصْلِحْ لِي شَأْنِي كُلَّهُ وَلَا تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ",
                transcription: "Йа Хаййу йа Каййум, би-рахматика астагису, аслих ли ша'ни куллаху ва ля такыльни иля нафси тарфата 'айн",
                text: "Утром: 'О Живой, О Вечный! По милости Твоей взываю о помощи, исправь для меня все мои дела и не оставляй меня наедине с собой даже на мгновение ока!'",
                source: "Аль-Хаким 1/545",
                category: "morning",
                times: ["10:00"]
            },
            
            // Вечерние азкары (10)
            {
                id: 11,
                title: "Вечерний зикр 1",
                arabic: "أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ",
                transcription: "А'узу би-кялимати-Лляхи-т-таммати мин шарри ма халяк",
                text: "Вечером: 'Я ищу защиты в совершенных Словах Аллаха от зла того, что Он создал' (3 раза)",
                source: "Муслим 4/2080",
                category: "evening",
                times: ["18:00"]
            },
            {
                id: 12,
                title: "Вечерний зикр 2",
                arabic: "اللَّهُمَّ بِكَ أَمْسَيْنَا، وَبِكَ أَصْبَحْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ الْمَصِيرُ",
                transcription: "Аллахумма би-кя амсайна, ва би-кя асбахна, ва би-кя нахья, ва би-кя намуту, ва иляйкя-ль-масыр",
                text: "Вечером: 'О Аллах, с Тобой мы провели этот вечер, и с Тобой встречаем утро, с Тобой мы живём и с Тобой умираем, и к Тебе возвращение!'",
                source: "Ат-Тирмизи 3391",
                category: "evening",
                times: ["18:30"]
            },
            {
                id: 13,
                title: "Вечерний зикр 3",
                arabic: "اللَّهُمَّ إِنِّي أَمْسَيْتُ مِنْكَ فِي نِعْمَةٍ وَعَافِيَةٍ وَسِتْرٍ، فَأَتِمَّ نِعْمَتَكَ عَلَيَّ وَعَافِيَتَكَ وَسِتْرَكَ فِي الدُّنْيَا وَالآخِرَةِ",
                transcription: "Аллахумма инни амсайту минка фи ни'матин ва 'афиятин ва ситрин, фа аттимма ни'матака 'аляййа ва 'афиятака ва ситрака фи-д-дунья ва-ль-ахира",
                text: "Вечером: 'О Аллах, поистине, я провёл этот вечер благодаря Твоей милости, благополучию и покрову, так доверши же Свою милость, благополучие и покров для меня в этом мире и в мире вечном!'",
                source: "Ибн Ас-Сунни 71",
                category: "evening",
                times: ["19:00"]
            },
            {
                id: 14,
                title: "Вечерний зикр 4",
                arabic: "اللَّهُمَّ إِنِّي أَسْأَلُكَ خَيْرَ هَذِهِ اللَّيْلَةِ، وَأَعُوذُ بِكَ مِنْ شَرِّ هَذِهِ اللَّيْلَةِ وَشَرِّ مَا بَعْدَهَا",
                transcription: "Аллахумма инни ас'алюка хайра хазихи-ль-ляйляти, ва а'узу бика мин шарри хазихи-ль-ляйляти ва шарри ма ба'даха",
                text: "Вечером: 'О Аллах, поистине, я прошу у Тебя блага этой ночи и прибегаю к Тебе от зла этой ночи и зла того, что будет после неё!'",
                source: "Абу Дауд 5066",
                category: "evening",
                times: ["19:30"]
            },
            {
                id: 15,
                title: "Вечерний зикр 5",
                arabic: "اللَّهُمَّ بِكَ أَحُوطُ نَفْسِي وَبِكَ أَرْفَعُهَا، اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنْ غِلِّ الصَّدْرِ، وَسُوءِ الذِّكْرِ، وَشَرِّ الأَخْلاَقِ",
                transcription: "Аллахумма бика ахуту нафси ва бика арфа'уха, Аллахумма инни а'узу бика мин гили-с-садри, ва су'и-з-зикри, ва шарри-ль-ахляк",
                text: "Вечером: 'О Аллах, с Тобой я защищаю себя и с Тобой возвышаюсь. О Аллах, поистине, я прибегаю к Тебе от злобы в груди, плохого поминания и дурного нрава!'",
                source: "Ат-Табарани",
                category: "evening",
                times: ["20:00"]
            },
            {
                id: 16,
                title: "Вечерний зикр 6",
                arabic: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ",
                transcription: "Субхана-Ллахи ва би-хамдихи",
                text: "Вечером: 'Слава Аллаху и хвала Ему' (100 раз)",
                source: "Муслим 4/2071",
                category: "evening",
                times: ["20:30"]
            },
            {
                id: 17,
                title: "Вечерний зикр 7",
                arabic: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ",
                transcription: "Ля иляха илля-Ллаху вахдаху ля шарика ляху, ляху-ль-мульку ва ляху-ль-хамду ва хува 'аля кулли шайин кадир",
                text: "Вечером: 'Нет божества, кроме одного лишь Аллаха, у Которого нет сотоварища. Ему принадлежит владычество, Ему хвала, Он всё может!' (10 раз)",
                source: "Абу Дауд 5077",
                category: "evening",
                times: ["21:00"]
            },
            {
                id: 18,
                title: "Вечерний зикр 8",
                arabic: "بِسْمِ اللَّهِ الَّذِي لَا يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الْأَرْضِ وَلَا فِي السَّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ",
                transcription: "Би-сми-Лляхи-ллязи ля ядурру ма'а-смихи шайун фи-ль-арди ва ля фи-с-самаи ва хува-с-Сами'у-ль-Алим",
                text: "Вечером: 'С именем Аллаха, с именем Которого ничто не причинит вреда ни на земле, ни на небе, ведь Он - Слышащий, Знающий!' (3 раза)",
                source: "Абу Дауд 5088",
                category: "evening",
                times: ["21:30"]
            },
            {
                id: 19,
                title: "Вечерний зикр 9",
                arabic: "رَضِيتُ بِاللَّهِ رَبّاً، وَبِالْإِسْلَامِ دِيناً، وَبِمُحَمَّدٍ صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمَ نَبِيّاً",
                transcription: "Радыту би-Лляхи Раббан, ва би-ль-ислями динан, ва би-Мухаммадин салла-Ллаху 'аляйхи ва салляма набиййан",
                text: "Вечером: 'Я доволен Аллахом как Господом, исламом как религией и Мухаммадом, да благословит его Аллах и приветствует, как пророком' (3 раза)",
                source: "Абу Дауд 5072",
                category: "evening",
                times: ["22:00"]
            },
            {
                id: 20,
                title: "Вечерний зикр 10",
                arabic: "يَا حَيُّ يَا قَيُّومُ بِرَحْمَتِكَ أَسْتَغِيثُ أَصْلِحْ لِي شَأْنِي كُلَّهُ وَلَا تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ",
                transcription: "Йа Хаййу йа Каййум, би-рахматика астагису, аслих ли ша'ни куллаху ва ля такыльни иля нафси тарфата 'айн",
                text: "Вечером: 'О Живой, О Вечный! По милости Твоей взываю о помощи, исправь для меня все мои дела и не оставляй меня наедине с собой даже на мгновение ока!'",
                source: "Аль-Хаким 1/545",
                category: "evening",
                times: ["22:30"]
            },
            
            // После намаза (10)
            {
                id: 21,
                title: "После намаза 1",
                arabic: "أَسْتَغْفِرُ اللَّهَ",
                transcription: "Астагфиру-Ллах",
                text: "После намаза: 'Прошу прощения у Аллаха' (3 раза)",
                source: "Муслим 1/414",
                category: "prayer",
                times: []
            },
            {
                id: 22,
                title: "После намаза 2",
                arabic: "اللَّهُمَّ أَنْتَ السَّلَامُ وَمِنْكَ السَّلَامُ تَبَارَكْتَ يَا ذَا الْجَلَالِ وَالْإِكْرَامِ",
                transcription: "Аллахумма анта-с-Саляму ва минка-с-Саляму, табаракта йа за-ль-Джаляли ва-ль-Икрам",
                text: "После намаза: 'О Аллах, Ты - Мир, и от Тебя - мир. Благословен Ты, о Обладатель величия и почета!'",
                source: "Муслим 1/414",
                category: "prayer",
                times: []
            },
            {
                id: 23,
                title: "После намаза 3",
                arabic: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ",
                transcription: "Ля иляха илля-Ллаху вахдаху ля шарика ляху, ляху-ль-мульку ва ляху-ль-хамду ва хува 'аля кулли шайин кадир",
                text: "После намаза: 'Нет божества, кроме одного лишь Аллаха, у Которого нет сотоварища. Ему принадлежит владычество, Ему хвала, Он всё может!' (1 раз после фаджра и магриба, 10 раз после остальных)",
                source: "Абу Дауд 5077",
                category: "prayer",
                times: []
            },
            {
                id: 24,
                title: "После намаза 4",
                arabic: "سُبْحَانَ اللَّهِ، وَالْحَمْدُ لِلَّهِ، وَاللَّهُ أَكْبَرُ",
                transcription: "Субхана-Ллахи, ва-ль-хамду ли-Лляхи, ва Аллаху акбар",
                text: "После намаза: 'Слава Аллаху, хвала Аллаху, Аллах велик' (по 33 раза каждое)",
                source: "Муслим 1/418",
                category: "prayer",
                times: []
            },
            {
                id: 25,
                title: "После намаза 5",
                arabic: "اللَّهُ أَكْبَرُ كَبِيراً، وَالْحَمْدُ لِلَّهِ كَثِيراً، وَسُبْحَانَ اللَّهِ بُكْرَةً وَأَصِيلاً",
                transcription: "Аллаху акбару кабиран, ва-ль-хамду ли-Лляхи касиран, ва субхана-Ллахи букратан ва асиля",
                text: "После намаза: 'Аллах велик, хвала Аллаху многократно, и слава Аллаху утром и вечером' (3 раза после фаджра и асра)",
                source: "Муслим 1/418",
                category: "prayer",
                times: []
            },
            {
                id: 26,
                title: "После намаза 6",
                arabic: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ يُحْيِي وَيُمِيتُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ",
                transcription: "Ля иляха илля-Ллаху вахдаху ля шарика ляху, ляху-ль-мульку ва ляху-ль-хамду, йухйи ва йумиту ва хува 'аля кулли шайин кадир",
                text: "После намаза: 'Нет божества, кроме одного лишь Аллаха, у Которого нет сотоварища. Ему принадлежит владычество, Ему хвала, Он оживляет и умерщвляет, и Он всё может!' (10 раз после магриба)",
                source: "Ат-Тирмизи 3474",
                category: "prayer",
                times: []
            },
            {
                id: 27,
                title: "После намаза 7",
                arabic: "اللَّهُمَّ أَعِنِّي عَلَى ذِكْرِكَ وَشُكْرِكَ وَحُسْنِ عِبَادَتِكَ",
                transcription: "Аллахумма а'инни 'аля зикрика ва шукрика ва хусни 'ибадатика",
                text: "После намаза: 'О Аллах, помоги мне поминать Тебя, благодарить Тебя и наилучшим образом поклоняться Тебе!'",
                source: "Абу Дауд 1522",
                category: "prayer",
                times: []
            },
            {
                id: 28,
                title: "После намаза 8",
                arabic: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ عَدَدَ خَلْقِهِ وَرِضَا نَفْسِهِ وَزِنَةَ عَرْشِهِ وَمِدَادَ كَلِمَاتِهِ",
                transcription: "Субхана-Ллахи ва би-хамдихи, 'адада халькыхи, ва рида нафсих, ва зината 'арших, ва мидада калиматих",
                text: "После намаза: 'Слава Аллаху и хвала Ему столько, сколько Его творений, и столько, сколько будет угодно Ему, и весом столько, сколько весит Его Трон, и чернилами столько, сколько слов Его!'",
                source: "Муслим 4/2090",
                category: "prayer",
                times: []
            },
            {
                id: 29,
                title: "После намаза 9",
                arabic: "اللَّهُمَّ إِنِّي أَسْأَلُكَ عِلْماً نَافِعاً، وَرِزْقاً طَيِّباً، وَعَمَلاً مُتَقَبَّلاً",
                transcription: "Аллахумма инни ас'алюка 'ильман нафи'ан, ва ризкан таййибан, ва 'амалян мутакаббалян",
                text: "После намаза: 'О Аллах, поистине, я прошу у Тебя полезного знания, благого удела и деяний, которые будут приняты!'",
                source: "Ибн Маджа 925",
                category: "prayer",
                times: []
            },
            {
                id: 30,
                title: "После намаза 10",
                arabic: "رَبَّنَا آتِنَا فِي الدُّنْيَا حَسَنَةً وَفِي الْآخِرَةِ حَسَنَةً وَقِنَا عَذَابَ النَّارِ",
                transcription: "Раббана атина фи-д-дунья хасанатан ва фи-ль-ахирати хасанатан ва кина 'азаба-н-нар",
                text: "После намаза: 'Господь наш! Даруй нам в этом мире благо и в Последней жизни благо и защити нас от мучений в Огне!'",
                source: "Аль-Бухари 6389",
                category: "prayer",
                times: []
            },
            
            // Перед сном (5)
            {
                id: 31,
                title: "Перед сном 1",
                arabic: "بِاسْمِكَ اللَّهُمَّ أَمُوتُ وَأَحْيَا",
                transcription: "Би-смикя Аллахумма амуту ва ахья",
                text: "Перед сном: 'О Аллах, с Твоим именем я умираю и оживаю'",
                source: "Аль-Бухари 6324",
                category: "sleep",
                times: ["22:00"]
            },
            {
                id: 32,
                title: "Перед сном 2",
                arabic: "اللَّهُمَّ قِنِي عَذَابَكَ يَوْمَ تَبْعَثُ عِبَادَكَ",
                transcription: "Аллахумма кини 'азабака йаума таб'асу 'ибадак",
                text: "Перед сном: 'О Аллах, защити меня от Твоего наказания в день, когда Ты воскресишь Своих рабов!' (3 раза)",
                source: "Абу Дауд 5047",
                category: "sleep",
                times: ["22:15"]
            },
            {
                id: 33,
                title: "Перед сном 3",
                arabic: "الْحَمْدُ لِلَّهِ الَّذِي أَطْعَمَنَا وَسَقَانَا وَكَفَانَا وَآوَانَا فَكَمْ مِمَّنْ لَا كَافِيَ لَهُ وَلَا مُؤْوِيَ",
                transcription: "Аль-хамду ли-Лляхи-ллязи ат'амана ва сакана ва кафана ва авана, факам мимман ля кафия ляху ва ля му'вия",
                text: "Перед сном: 'Хвала Аллаху, Который накормил нас, напоил нас, удовлетворил наши нужды и дал нам приют, ведь сколько таких, у кого нет ни того, кто удовлетворил бы их нужды, ни приюта!'",
                source: "Муслим 4/2085",
                category: "sleep",
                times: ["22:30"]
            },
            {
                id: 34,
                title: "Перед сном 4",
                arabic: "اللَّهُمَّ أَسْلَمْتُ نَفْسِي إِلَيْكَ، وَوَجَّهْتُ وَجْهِي إِلَيْكَ، وَفَوَّضْتُ أَمْرِي إِلَيْكَ، وَأَلْجَأْتُ ظَهْرِي إِلَيْكَ، رَغْبَةً وَرَهْبَةً إِلَيْكَ، لَا مَلْجَأَ وَلَا مَنْجَا مِنْكَ إِلَّا إِلَيْكَ، آمَنْتُ بِكِتَابِكَ الَّذِي أَنْزَلْتَ، وَبِنَبِيِّكَ الَّذِي أَرْسَلْتَ",
                transcription: "Аллахумма аслямту нафси иляйк, ва ваджжахту ваджхи иляйк, ва фаввазту амри иляйк, ва альджа'ту захри иляйк, рагбатан ва рахбатан иляйк, ля мальджаа ва ля манджа минка илля иляйк, аманту би-китабика-ллязи анзальта, ва би-набиййика-ллязи арсальта",
                text: "Перед сном: 'О Аллах, я предаю себя Тебе, и обращаюсь к Тебе, и вручаю дело своё Тебе, и прибегаю к Тебе, стремясь к Тебе и страшась Тебя, и нет убежища и спасения от Тебя, кроме как у Тебя! Я уверовал в Твоё Писание, которое Ты ниспослал, и в Твоего пророка, которого Ты послал!'",
                source: "Аль-Бухари 6313",
                category: "sleep",
                times: ["22:45"]
            },
            {
                id: 35,
                title: "Перед сном 5",
                arabic: "سُبْحَانَ اللَّهِ وَالْحَمْدُ لِلَّهِ وَلَا إِلَهَ إِلَّا اللَّهُ وَاللَّهُ أَكْبَرُ",
                transcription: "Субхана-Ллахи ва-ль-хамду ли-Лляхи ва ля иляха илля-Ллаху ва-Ллаху акбар",
                text: "Перед сном: 'Слава Аллаху, хвала Аллаху, нет божества, кроме Аллаха, Аллах велик' (33 раза)",
                source: "Аль-Бухари 6318",
                category: "sleep",
                times: ["23:00"]
            },
            
            // На каждый день (5)
            {
                id: 36,
                title: "При выходе из дома",
                arabic: "بِسْمِ اللَّهِ، تَوَكَّلْتُ عَلَى اللَّهِ، وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ",
                transcription: "Би-сми-Лляхи, таваккальту 'аля-Лляхи, ва ля хауля ва ля куввата илля би-Ллях",
                text: "При выходе из дома: 'С именем Аллаха, уповаю на Аллаха, нет силы и мощи ни у кого, кроме Аллаха'",
                source: "Абу Дауд 5095",
                category: "daily",
                times: []
            },
            {
                id: 37,
                title: "При входе в дом",
                arabic: "اللَّهُمَّ إِنِّي أَسْأَلُكَ خَيْرَ الْمَوْلِجِ وَخَيْرَ الْمَخْرَجِ بِسْمِ اللَّهِ وَلِجْنَا وَبِسْمِ اللَّهِ خَرَجْنَا وَعَلَى اللَّهِ رَبِّنَا تَوَكَّلْنَا",
                transcription: "Аллахумма инни ас'алюка хайра-ль-мавляджи ва хайра-ль-махрадж, би-сми-Ллахи валаджна ва би-сми-Ллахи хараджна ва 'аля-Ллахи Раббина таваккальна",
                text: "При входе в дом: 'О Аллах, поистине, я прошу у Тебя благого входа и благого выхода. С именем Аллаха мы вошли и с именем Аллаха мы вышли, и на нашего Господа мы уповаем'",
                source: "Абу Дауд 5096",
                category: "daily",
                times: []
            },
            {
                id: 38,
                title: "При входе в туалет",
                arabic: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْخُبْثِ وَالْخَبَائِثِ",
                transcription: "Аллахумма инни а'узу бика мин аль-хубси ва-ль-хабаис",
                text: "При входе в туалет: 'О Аллах, поистине, я прибегаю к Тебе от зла мужских и женских джиннов'",
                source: "Аль-Бухари 142",
                category: "daily",
                times: []
            },
            {
                id: 39,
                title: "После выхода из туалета",
                arabic: "غُفْرَانَكَ",
                transcription: "Гуфранак",
                text: "После выхода из туалета: 'Прошу Твоего прощения'",
                source: "Абу Дауд 30",
                category: "daily",
                times: []
            },
            {
                id: 40,
                title: "При надевании одежды",
                arabic: "الْحَمْدُ لِلَّهِ الَّذِي كَسَانِي هَذَا وَرَزَقَنِيهِ مِنْ غَيْرِ حَوْلٍ مِنِّي وَلَا قُوَّةٍ",
                transcription: "Аль-хамду ли-Лляхи-ллязи касани хаза ва разаканих мин гайри хаулин минни ва ля кувва",
                text: "При надевании одежды: 'Хвала Аллаху, Который одел меня в это и даровал мне это без всяких усилий и силы с моей стороны!'",
                source: "Абу Дауд 4023",
                category: "daily",
                times: []
            }
        ];
        
        // DOM элементы
        const remindersList = document.getElementById('reminders-list');
        const emptyState = document.getElementById('empty-state');
        const tabs = document.querySelectorAll('.tab');
        const addReminderBtn = document.getElementById('add-reminder-btn');
        const themeSwitcher = document.getElementById('theme-switcher');
        const themeMenu = document.getElementById('theme-menu');
        const themeOptions = document.querySelectorAll('.theme-option');
        
        // Текущая активная категория
        let activeCategory = 'all';
        
        // Инициализация приложения
        function init() {
            renderReminders();
            setupTabs();
            setupServiceWorker();
            setupThemeSwitcher();
            checkEmptyState();
        }
        
        // Рендеринг напоминаний
        function renderReminders() {
            remindersList.innerHTML = '';
            
            const filteredReminders = activeCategory === 'all' 
                ? reminders 
                : reminders.filter(r => r.category === activeCategory);
            
            if (filteredReminders.length === 0) {
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            filteredReminders.forEach(reminder => {
                const reminderElement = document.createElement('div');
                reminderElement.className = 'reminder-card';
                
                let arabicHtml = '';
                if (reminder.arabic) {
                    arabicHtml = `
                        <div class="arabic-text">${reminder.arabic}</div>
                        <div class="transcription">${reminder.transcription}</div>
                    `;
                }
                
                reminderElement.innerHTML = `
                    <div class="reminder-title">${reminder.title}</div>
                    ${arabicHtml}
                    <div class="reminder-text">${reminder.text}</div>
                    <div class="reminder-source">${reminder.source}</div>
                    <div class="reminder-actions">
                        <button class="btn btn-outline" onclick="scheduleReminder(${reminder.id})">
                            <svg class="btn-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            Напомнить
                        </button>
                        <button class="btn btn-primary" onclick="addToCalendar(${reminder.id})">
                            <svg class="btn-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            В календарь
                        </button>
                    </div>
                `;
                remindersList.appendChild(reminderElement);
            });
        }
        
        // Настройка табов
        function setupTabs() {
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    activeCategory = tab.dataset.category;
                    renderReminders();
                });
            });
        }
        
        // Настройка переключателя тем
        function setupThemeSwitcher() {
            themeSwitcher.addEventListener('click', () => {
                themeMenu.style.display = themeMenu.style.display === 'flex' ? 'none' : 'flex';
            });
            
            themeOptions.forEach(option => {
                option.addEventListener('click', () => {
                    const theme = option.dataset.theme;
                    setTheme(theme);
                    themeOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    themeMenu.style.display = 'none';
                });
            });
            
            // Проверка сохраненной темы
            const savedTheme = localStorage.getItem('theme') || 'default';
            setTheme(savedTheme);
            document.querySelector(`.theme-option[data-theme="${savedTheme}"]`).classList.add('active');
        }
        
        // Установка темы
        function setTheme(theme) {
            if (theme === 'default') {
                document.documentElement.removeAttribute('data-theme');
            } else {
                document.documentElement.setAttribute('data-theme', theme);
            }
            localStorage.setItem('theme', theme);
        }
        
        // Проверка пустого состояния
        function checkEmptyState() {
            if (reminders.length === 0) {
                emptyState.style.display = 'block';
            } else {
                emptyState.style.display = 'none';
            }
        }
        
        // Запланировать напоминание
        function scheduleReminder(id) {
            const reminder = reminders.find(r => r.id === id);
            if (!reminder) return;
            
            if ('Notification' in window && Notification.permission !== 'denied') {
                Notification.requestPermission().then(permission => {
                    if (permission === 'granted') {
                        if (reminder.times && reminder.times.length > 0) {
                            reminder.times.forEach(time => {
                                scheduleNotification(reminder, time);
                            });
                            alert(`Напоминание "${reminder.title}" будет показано в установленное время`);
                        } else {
                            showNotification(reminder);
                        }
                    }
                });
            } else {
                alert(`Напоминание "${reminder.title}" будет показано в установленное время`);
            }
        }
        
        // Показать уведомление
        function showNotification(reminder) {
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification(reminder.title, {
                    body: reminder.text,
                    icon: 'icons/icon-192x192.png'
                });
            }
        }
        
        // Запланировать уведомление на определенное время
        function scheduleNotification(reminder, timeStr) {
            const [hours, minutes] = timeStr.split(':').map(Number);
            const now = new Date();
            const notificationTime = new Date(
                now.getFullYear(),
                now.getMonth(),
                now.getDate(),
                hours,
                minutes,
                0
            );
            
            // Если время уже прошло сегодня, запланировать на завтра
            if (notificationTime < now) {
                notificationTime.setDate(notificationTime.getDate() + 1);
            }
            
            const timeout = notificationTime.getTime() - now.getTime();
            
            setTimeout(() => {
                showNotification(reminder);
                // Повторять ежедневно
                scheduleNotification(reminder, timeStr);
            }, timeout);
        }
        
        // Добавить в календарь
        function addToCalendar(id) {
            const reminder = reminders.find(r => r.id === id);
            if (!reminder) return;
            
            const text = encodeURIComponent(`${reminder.title}\n\n${reminder.arabic ? reminder.arabic + '\n\n' : ''}${reminder.text}\n\nИсточник: ${reminder.source}`);
            const date = new Date();
            const endDate = new Date(date.getTime() + 30 * 60000); // +30 минут
            
            // Для iOS
            const iosUrl = `webcal://p30-calendars.icloud.com/publish/2/${text}?title=Исламское напоминание&st=${formatDateForCalendar(date)}&et=${formatDateForCalendar(endDate)}&location=Мусульманские практики`;
            
            // Для других устройств
            const googleUrl = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(reminder.title)}&details=${encodeURIComponent(reminder.text)}&dates=${formatDateForGoogleCalendar(date)}/${formatDateForGoogleCalendar(endDate)}`;
            
            // Попробуем определить iOS
            if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {
                window.open(iosUrl, '_blank');
            } else {
                window.open(googleUrl, '_blank');
            }
        }
        
        function formatDateForCalendar(date) {
            return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
        }
        
        function formatDateForGoogleCalendar(date) {
            return date.toISOString().replace(/[-:]/g, '').replace(/\.\d+/g, '');
        }
        
        // Установка Service Worker
        function setupServiceWorker() {
            if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('ServiceWorker зарегистрирован');
                        }
                    );
                });
            }
        }
        
        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', init);
        
        // Глобальные функции для кнопок
        window.scheduleReminder = scheduleReminder;
        window.addToCalendar = addToCalendar;
    </script>
</body>
</html>
